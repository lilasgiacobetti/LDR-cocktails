<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recette</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* ==== RECETTE ‚Äî layout ==== */
    :root{
      --bg:#F4E7DF; --bg2:#FAF4EF; --ink:#111; --muted:#5f5f5f;
      --card:#f0e6df; --border:#e5d9d1; --shadow:0 10px 18px rgba(0,0,0,.08);
      --accent:#7b2530;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;padding:0;background:linear-gradient(180deg,var(--bg2),var(--bg));color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial
    }

    .recipe-wrap{max-width:1100px;margin:28px auto;padding:0 16px}
    .recipe-top{display:flex;align-items:center;gap:12px;margin-bottom:18px}
    .recipe-back{appearance:none;border:1px solid #e6e0dc;background:#fff;border-radius:999px;padding:6px 12px;font-size:.9rem;cursor:pointer}
    .recipe-eyebrow{letter-spacing:.12em;text-transform:uppercase;font-weight:700;font-size:12px;color:#6b6b6b;margin:0}
    .recipe-title{font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;font-weight:800;
      font-size:clamp(28px,4.8vw,56px);line-height:1.06;margin:2px 0 0}

    .recipe-two-col{display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:start;margin-top:16px}
    .recipe-visual{
      border-radius:20px;overflow:hidden;background:#f3eee9; box-shadow:0 12px 38px rgba(0,0,0,.12)
    }
    .recipe-visual img{display:block;width:100%;height:100%;object-fit:cover;max-height:min(72vh,720px)}

    .recipe-card{
      background:#fff;border:1.5px solid #e6e1db;border-radius:20px;
      padding:22px;box-shadow:0 10px 28px rgba(0,0,0,.10)
    }
    .recipe-card h2{
      font-size:clamp(18px,2.2vw,22px);margin:0 0 8px;font-weight:800;letter-spacing:.02em
    }
    .recipe-list{margin:0;padding-left:18px;line-height:1.55}
    .recipe-section{margin-top:18px}
    .recipe-actions{margin-top:18px}
    .btn{appearance:none;border:none;border-radius:999px;padding:10px 16px;cursor:pointer}
    .btn-primary{background:#702632;color:#fff}

    .recipe-caption{opacity:.6;font-size:.9rem;margin-top:6px}

    @media (max-width: 860px){
      .recipe-two-col{grid-template-columns:1fr;gap:16px}
      .recipe-visual img{max-height:52vh}
    }
  </style>
</head>
<body>
  <main class="recipe-wrap" aria-live="polite">
    <div class="recipe-top">
      <button class="recipe-back" type="button" id="backBtn">‚Üê Retour au quiz</button>
      <div>
        <p class="recipe-eyebrow">Recette</p>
        <h1 class="recipe-title" id="recipeTitle">‚Äî</h1>
      </div>
    </div>

    <section class="recipe-two-col">
      <!-- Image √† gauche (sous le titre & bouton) -->
      <figure class="recipe-visual">
        <img id="recipeImg" alt="Photo du cocktail" src="img/placeholder-recipe.jpg" />
      </figure>

      <!-- Carte √† droite -->
      <article class="recipe-card">
        <div class="recipe-section">
          <h2>Ingr√©dients</h2>
          <ul id="ingredients" class="recipe-list"><li>Chargement‚Ä¶</li></ul>
        </div>

        <div class="recipe-section">
          <h2>Pr√©paration</h2>
          <p id="instructions">Chargement‚Ä¶</p>
        </div>

        <div class="recipe-actions">
          <button class="btn btn-primary" id="againBtn">Recommencer</button>
        </div>
      </article>
    </section>
  </main>

<script>
  // Utils
  const norm = s => (s||'').normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase().replace(/\s+/g,' ').trim();
  const slug  = s => norm(s).replace(/[^a-z0-9]+/g,'-').replace(/^-+|-+$/g,'');

  // Donn√©es
  const RECIPES = {/* === tes recettes === */ 
    "Tangy Tonic":{"ingredients":"- 150 ml Double Dutch Indian Tonic Water\n- 40 ml de jus de pamplemousse rose \n- 15 ml de sirop de sucre de grenadine","preparation":"1. Dans un verre highball rempli de glace pil√©e, ajouter les ingr√©dients.\n2. D√©corer avec une rondelle de pamplemousse."},
    "Virgin Bellini":{"ingredients":"- 60 ml de jus/ pur√©e de p√™che\n- 10 ml de jus de citron frais \n- 100 ml de Double Dutch Skinny Tonic","preparation":"1. Dans un verre highball rempli de glace pil√©e, ajouter les ingr√©dients.\n2. D√©corer avec un quartier de p√™che (option)."},
    "Virgin To":{"ingredients":"- 30 ml de Tanqueray 0.0%\n- 120 ml d‚ÄôIndian Tonic Water\n- Rondelle de pamplemousse frais","preparation":"1. Ajouter le Tanqueray 0.0% et le tonic dans un verre coppa rempli de gla√ßons.\n2. D√©corer avec une rondelle de pamplemousse."},
    "Ginger Lime":{"ingredients":"- 150 ml Double Dutch Ginger Beer\n- 20 ml jus de citron\n- 15 ml de sirop de sucre de canne ","preparation":"1. Dans un verre highball rempli de glace pil√©e, ajouter les ingr√©dients.\n2. D√©corer avec une rondelle de citron."},
    "Pa-no-ma":{"ingredients":"- 25 ml de jus de pamplemousse\n- 15 ml jus de citron vert frais\n- 1/2 piment (l√©g√®rement √©cras√© pour lib√©rer les ar√¥mes)\n- Double Dutch Pink Grapefruit\n- Une tranche de pamplemousse","preparation":"1. Dans un shaker rempli de gla√ßons.\n2. Ajouter le jus de citron vert, jus de pamplemousse et le demi-piment, puis shaker.\n3. Compl√©ter avec du Double Dutch Pink Grapefruit.\n4. D√©corer avec une tranche de pamplemousse rose."},
    "Med Orchard":{"ingredients":"- 15 ml de sirop de m√ªres\n- 10 ml jus de citron\n- 20 ml de jus de pomme\n- 150 ml de Double Dutch Pomegranate & Basil\n- Garnir de 5 m√ªres","preparation":"1. Remplir le verre √† highball de gla√ßons.\n2. Ajouter le sirop de m√ªre, le jus de citron et le jus de pomme.\n3. Compl√©ter avec du Double Dutch Pomegranate & Basil.\n4. D√©corer avec quelques m√ªres."},
    "Cucumber Collins":{"ingredients":"- 50 ml de Tanqueray 0.0%\n- 20 ml de jus de citron\n- 10 ml de sirop de sucre\n- Tonic cucumber & watermelon Double Dutch\n- Lamelle de concombre et zeste de citron","preparation":"1. Dans un shaker rempli de gla√ßons.\n2. Ajouter le Tanqueray 0.0%, le jus de citron et le sirop de sucre, puis shaker.\n3. Servir dans un verre highball avec des gla√ßon et les lamelles de concombres. Compl√©ter avec du Double Dutch Cucumber & Watermelon Double Dutch.\n4. D√©corer le verre avec le zeste de citron."},
    "Ginger spice":{"ingredients":"- 50 ml de Captain Morgan 0.0%\n- Jus de citron vert\n- Tonic Cranberry & Ginger Double Dutch\n- Cranberries fra√Æche et tranche de gingembre","preparation":"1. Remplir le verre de gla√ßons. Verser le Captain Morgan 0.0%.\n2. Presser un citron vert frais.\n3. Allonger avec du Double Dutch Cranberry & Ginger. Remuer d√©licatement √† l‚Äôaide d‚Äôune cuilli√®re. \n4. D√©corer de cranberries et de gingembre."},
  "Whisky Sour": {ingredients: "- 50 ml de whisky Johnnie Walker Black Label\n- 25 ml de jus de citron\n- 15 ml de sirop de sucre",
   preparation: "1. Verser le whisky, le jus de citron et le sirop de sucre dans un shaker avec des gla√ßons.\n2. Secouer vigoureusement pendant quelques secondes.\n3. Filtrer dans un verre √† cocktail et d√©corer d‚Äôune tranche de citron ou d‚Äôune cerise."
},
"Daiquiri": {
  ingredients: "- 50 ml de rhum blanc Pampero \n- 25 ml de jus de citron vert\n- 15 ml de sirop de sucre",
  preparation: "1. Verser tous les ingr√©dients dans un shaker rempli de gla√ßons.\n2. Secouer √©nergiquement pendant quelques secondes.\n3. Filtrer et servir dans un verre √† cocktail."
},
"Vodka Gimlet": {
  ingredients: "- 50 ml de vodka Smirnoff Red\n- 25 ml de jus de citron vert\n- 15 ml de sirop de sucre",
  preparation: "1. M√©langer la vodka, le jus de citron vert et le sirop de sucre dans un shaker avec des gla√ßons.\n2. Secouer et filtrer dans un verre √† martini.\n3. Servir avec une rondelle de citron vert."
},
"Gimlet":{
    ingredients: "- 40 ml de gin Tanqueray London Dry\n- 20 ml de jus de citron vert\n- 20 ml de sirop de Letchi Framboise",
    preparation: "1. M√©langer le gin, le jus de citron vert et le sirop dans un shaker avec des gla√ßons.\n2. Secouer et filtrer dans un verre coupette.\n3. Servir avec des framboises."
  },
"Cuba Libre": {
  ingredients: "- 50 ml de Captain Morgan\n- 120 ml de cola\n- 10 ml de jus de citron vert",
  preparation: "1. Remplir un verre de gla√ßons.\n2. Ajouter le rhum et le jus de citron vert.\n3. Compl√©ter avec le cola et remuer doucement."
},
"Godfather": {
  ingredients: "- 45 ml de whisky Johnnie Walker Black Label\n- 15 ml de liqueur d‚Äôamaretto",
  preparation: "1. Verser le whisky et l‚Äôamaretto dans un verre √† whisky rempli de gla√ßons.\n2. Remuer doucement.\n3. Servir directement, sans garniture."
},
"Pink Lady": {
  ingredients: "- 50 ml de gin Tanqueray London Dry\n- 15 ml de jus de citron\n- 10 ml de sirop de grenadine\n- (Optionnel) 1 blanc d‚Äô≈ìuf",
  preparation: "1. Verser le gin, le jus de citron, la grenadine et le blanc d‚Äô≈ìuf (si utilis√©) dans un shaker sans gla√ßons.\n2. Secouer √† sec pour √©mulsionner.\n3. Ajouter des gla√ßons et secouer √† nouveau.\n4. Filtrer dans un verre √† cocktail."
},
"Johnnie & Lemon": {
  ingredients: "- 50 ml de whisky Johnnie Walker Black Label\n- 100 ml d‚Äôeau gazeuse\n- 1 zeste de citron",
  preparation: "1. Remplir un grand verre de gla√ßons.\n2. Ajouter le whisky, compl√©ter avec l‚Äôeau gazeuse.\n3. Remuer doucement et d√©corer d‚Äôun zeste de citron."
},
"Mojito": {
  ingredients: "- 50 ml de Captain Morgan\n- 1/2 citron vert coup√© en quartiers\n- 2 c. √† caf√© de sucre\n- 6 feuilles de menthe",
  preparation: "1. √âcraser le citron vert et le sucre au fond du verre.\n2. Ajouter la menthe, le rhum et des gla√ßons.\n3. Compl√©ter avec un trait d‚Äôeau gazeuse et remuer."
},
"Gin Tonic": {
  ingredients: "- 50 ml de gin Tanqueray London Dry\n- 120 ml d‚ÄôIndian Tonic Water\n- 1 rondelle de citron ou de concombre",
  preparation: "1. Remplir un verre de gla√ßons.\n2. Verser le gin, puis le tonic.\n3. M√©langer l√©g√®rement et garnir."
},
"Espresso Martini": {
  ingredients: "- 40 ml de vodka Smirnoff Red\n- 20 ml de liqueur de caf√©\n- 30 ml de caf√© espresso",
  preparation: "1. Verser tous les ingr√©dients dans un shaker rempli de gla√ßons.\n2. Secouer √©nergiquement jusqu‚Äô√† formation d‚Äôune mousse.\n3. Filtrer dans un verre √† martini et garnir de grains de caf√©."
},
"Irish Coffee": {
  ingredients: "- 40 ml de whisky Roe & CO\n- 80 ml de caf√© chaud\n- 1 c. √† caf√© de sucre brun",
  preparation: "1. M√©langer le whisky et le sucre dans un verre r√©sistant √† la chaleur.\n2. Ajouter le caf√© chaud et remuer.\n3. Ajouter d√©licatement une couche de cr√®me fouett√©e."
},
"Dark & Stormy": {
  ingredients: "- 50 ml de Rhum Pampero Especial\n- 100 ml de ginger beer Double Dutch\n- 10 ml de jus de citron vert",
  preparation: "1. Remplir un verre de gla√ßons.\n2. Ajouter le jus de citron vert et la ginger beer.\n3. Verser le rhum par-dessus et remuer l√©g√®rement."
},
"Irish Spice": {
  ingredients: "- 50 ml de Whiskey Roe & CO\n- 150 ml Ginger Ale Double Dutch\n- Rondelle de citron",
  preparation: "1. Remplir un verre √† whisky de gla√ßons.\n2. Ajouter le whiskey et allonger avec le Ginger Ale.\n3. D√©corer d‚Äôune rondelle de citron."
},
"Ginger Spice": {
  ingredients: "- 50 ml de Captain Morgan\n- Jus de citron vert\n- Tonic Cranberry & Ginger Double Dutch\n- Cranberries fra√Æches & tranche de gingembre",
  preparation: "1. Remplir le verre de gla√ßons, verser le rhum.\n2. Presser le citron vert.\n3. Allonger au Double Dutch Cranberry & Ginger et remuer.\n4. D√©corer."
},
"Dutch Mule": {
  ingredients: "- 50 ml de Vodka Smirnoff Red\n- 15 ml de jus de citron\n- Ginger Beer Double Dutch\n- Rondelle de citron vert & feuilles de menthe",
  preparation: "1. Remplir le mug de gla√ßons.\n2. Ajouter la vodka et le jus de citron.\n3. Compl√©ter √† la ginger beer, m√©langer et d√©corer."
},
"Sevilla Spritz": {
  ingredients: "- 30 ml de gin Tanqueray Flor de Sevilla\n- 45 ml jus d‚Äôorange\n- 45 ml Prosecco\n- 100 ml de Tonic\n- Rondelle d‚Äôorange",
  preparation: "1. Ajouter tous les ingr√©dients dans un verre coppa rempli de gla√ßons.\n2. D√©corer avec une rondelle d‚Äôorange."
},
"Pink Grapefruit Collins": {
  ingredients: "- 40 ml de gin Tanqueray London Dry\n- 30 ml de jus de pamplemousse\n- 20 ml de jus de citron\n- 15 ml de sirop de sucre (ou grenadine)\n- Double Dutch Pink Grapefruit",
  preparation: "1. Shaker le gin, les jus et le sirop avec de la glace.\n2. Verser sur glace, compl√©ter au Double Dutch.\n3. D√©corer d‚Äôune tranche de pamplemousse."
},
"Grapefruit Sour": {
  ingredients: "- 40 ml de vodka Smirnoff Red\n- 30 ml de jus de pamplemousse frais\n- 20 ml de sirop de sucre\n- (Optionnel) 1 blanc d‚Äô≈ìuf",
  preparation: "1. Shaker avec glace.\n2. Filtrer et d√©corer (pamplemousse + romarin)."
},
"Penicillin": {
  ingredients: "- 40 ml de whisky Johnnie Walker Black Label\n- 20 ml de miel (nature ou au gingembre)\n- 20 ml de jus de citron\n- 10 ml de scotch tourb√©",
  preparation: "1. Shaker whisky, miel et citron avec glace.\n2. Verser sur gla√ßons.\n3. Verser doucement le scotch tourb√© par-dessus."
},
"Paloma": {
  ingredients: "- 50 ml de tequila Don Julio Blanco\n- 10 ml de jus de citron vert\n- 1 pinc√©e de sel rose\n- 100 ml de Mixer Double Dutch Pink Grapefruit\n- 1 tranche de pamplemousse rose",
  preparation: "1. Verre highball avec glace.\n2. Ajouter tequila, jus et sel.\n3. Compl√©ter au Mixer et remuer. Garnir."
},
"Margarita": {
  ingredients: "- 50 ml tequila Don Julio Blanco\n- 20 ml jus de citron vert\n- 10 ml de sirop d‚Äôagave\n- Tonic Elderflower Double Dutch\n- Zeste de citron",
  preparation: "1. Secouer tequila, jus, agave.\n2. Filtrer dans une coupe (bord sal√© en option).\n3. Allonger au Tonic Elderflower. Zeste."
},
"Berry Fizz": {
  ingredients: "- 40 ml de gin Tanqueray London Dry\n- 50 ml de pur√©e de fruits rouges\n- 20 ml de jus de citron\n- Double Dutch Cranberry & Ginger",
  preparation: "1. Verre highball rempli de glace.\n2. Verser et m√©langer d√©licatement.\n3. D√©corer avec des fruits rouges."
},
"Cosmopolitan": {
  ingredients: "- 40 ml de Vodka Smirnoff Red\n- 20 ml de liqueur d‚Äôorange\n- 10 ml de jus de citron vert\n- 30 ml de jus de canneberge",
  preparation: "1. Shaker avec glace, filtrer en martini.\n2. Garnir d‚Äôun zeste."
},
"Hurrican": {
  ingredients: "- 50 ml de Captain Morgan\n- 60 ml de jus de fruit de la passion\n- 40 ml de jus d‚Äôorange\n- 20 ml de jus de citron vert\n- 10 ml de sirop de grenadine",
  preparation: "1. Shaker tous les ingr√©dients sur glace.\n2. Servir et d√©corer d‚Äôune tranche d‚Äôorange."
},
"Mai tai": {
  ingredients: "- 50 ml Ron Zacapa 23\n- 20 ml jus de citron\n- 10 ml sirop d‚Äôorgeat\n- 10 ml liqueur d‚Äôabricot\n- Feuille de menthe & rondelle de citron",
  preparation: "1. Shaker puis filtrer sur glace pil√©e.\n2. D√©corer."
},
"Pimm‚Äôs lemonade": {
  ingredients: "- 50 ml de Pimm‚Äôs No¬∞1\n- 75 ml de limonade\n- 75 ml de Ginger Ale Double Dutch\n- Concombre, orange, fraise, menthe",
  preparation: "1. Verre highball de glace.\n2. Verser tous les ingr√©dients.\n3. Garnir."
},
"Bramble": {
  ingredients: "- 50 ml de gin Tanqueray London Dry\n- 5‚Äì10 ml de sirop de canne\n- 20 ml de jus de citron\n- 10 ml de cr√®me de m√ªre",
  preparation: "1. Shaker avec glace.\n2. Servir et napper de cr√®me de m√ªre."
},
"El Diablo": {
  ingredients: "- 50 ml de tequila Don Julio Blanco\n- 30 ml de jus de citron\n- 25 ml de cr√®me de cassis\n- 100 ml de Ginger Beer Double Dutch",
  preparation: "1. Verre highball avec glace.\n2. Tequila, citron, cassis.\n3. Compl√©ter √† la ginger beer et remuer."
},
"South side": {
  ingredients: "- 50 ml de gin Gordon‚Äôs\n- 25 ml de jus de citron\n- 15 ml de sirop de sucre\n- Eau gazeuse\n- Quartier de citron & romarin",
  preparation: "1. Verre coppa rempli de gla√ßons.\n2. Ajouter, remuer, d√©corer."
},
"Apple and Mint Julep": {
  ingredients: "- 50 ml de Whiskey Bourbon Bulleit\n- 1 cuill√®re de sucre roux\n- 30 ml de jus de pomme\n- 8 feuilles de menthe fra√Æche\n- 1 trait de bitter",
  preparation: "1. √âcraser la menthe avec le sucre et le jus de pomme.\n2. Ajouter le whiskey et le bitter.\n3. Remplir de glace pil√©e et m√©langer."
},
"Cucumber Dutch Mule": {
  ingredients: "- 50 ml de vodka Smirnoff Red\n- 20 ml de jus de citron\n- 100 ml de Ginger Beer Double Dutch\n- 1 trait de bitter\n- 8 feuilles de menthe\n- 2 tranches de concombre",
  preparation: "1. √âcraser l√©g√®rement menthe et concombre.\n2. Ajouter vodka, citron, glace, secouer.\n3. Filtrer sur glace, compl√©ter √† la ginger beer et d√©corer."
},
"Guayaba": {
  ingredients: "- 40 ml de rhum Zacapa 23\n- 20 ml de liqueur de caf√©\n- 20 ml de jus de goyave\n- 2 traits d‚Äôorange am√®re",
  preparation: "1. Shaker puis servir en coupette."
},
"Black Manhattan": {
  ingredients: "- 45 ml de whiskey Bourbon Bulleit\n- 25 ml d‚Äôamaro\n- 2 traits de bitters\n- Zeste d‚Äôorange",
  preparation: "1. Remuer au verre √† m√©lange avec glace.\n2. Filtrer en cocktail et zester."
},
"Nutty Irishman": {
  ingredients: "- 30 ml de whiskey Roe & CO\n- 30 ml de liqueur de noisette (Frangelico)\n- 30 ml de cr√®me liquide ou cr√®me irlandaise\n- Pinc√©e de cacao",
  preparation: "1. Shaker avec glace.\n2. Servir sur glace pil√©e en old fashioned.\n3. Saupoudrer de cacao."
},
    "Boulevardier":{"ingredients":"- 20 ml Johnnie Walker Black Label\n- 20 ml de vermouth rouge\n- 20 ml de Bitter rouge\n- Twist d‚Äôorange","preparation":"1. Dans un shaker, ajouter tous les ingr√©dients. Shaker\n2. Verser le tout dans un verre √† whisky.\n3. D√©corer d‚Äôun twist d‚Äôorange ( optionnel)."},

"Bloody Mary": {
  ingredients: "- 50 ml de vodka Smirnoff Red\n- 100 ml de jus de tomate\n- 10 ml de jus de citron\n- Sauce Worcestershire, Tabasco, sel, poivre",
  preparation: "1. Verre rempli de gla√ßons.\n2. Ajouter ingr√©dients, assaisonner.\n3. Remuer, garnir d‚Äôun c√©leri."
},
"Spicy Margarita": {
  ingredients: "- 40 ml de tequila Don Julio Blanco\n- 20 ml de triple sec\n- 20 ml de jus de citron vert\n- 2 tranches de piment frais ou 1 goutte de sirop de piment",
  preparation: "1. Shaker sur glace.\n2. Filtrer dans un verre √† margarita bord√© de sel.\n3. Garnir d‚Äôune tranche de piment."
},
"Pistachio Martini": {
  ingredients: "- 25 ml Baileys Original\n- 40 ml vodka Smirnoff Red\n- 2 boules de glace √† la pistache",
  preparation: "1. Shaker la glace √† la pistache, la vodka et le Baileys.\n2. Verser en martini bien froid.\n3. Option : framboise s√©ch√©e."
},
"Latte Speculos": {
  ingredients: "- 1 c. soupe de p√¢te √† tartiner sp√©culos\n- 2 espressos\n- Lait (v√©g√©tal ou animal)\n- 50 ml de Baileys\n- Cr√®me fouett√©e\n- Sp√©culos",
  preparation: "1. M√©langer p√¢te, caf√©s, Baileys et lait.\n2. Coiffer de cr√®me fouett√©e.\n3. D√©corer de sp√©culos."
},
"Affogato": {
  ingredients: "- 25 ml Baileys Original\n- 1 espresso\n- 100 ml de glace vanille",
  preparation: "1. Remplir une tasse de glace vanille.\n2. Verser l‚Äôespresso puis un trait de Baileys."
},
"Irish coffee": {
  ingredients: "- 40 ml de whiskey Roe & co\n- 80 ml de caf√© noir\n- 20 ml de sirop de sucre\n- 30 ml de cr√®me liquide",
  preparation: "1. Verre r√©sistant √† la chaleur : whiskey, sirop, caf√©.\n2. Fouetter l√©g√®rement la cr√®me.\n3. Verser la cr√®me √† la cuill√®re."
},
"Spicy Martini": {
  ingredients: "- 40 ml de Baileys Original\n- 30 ml de tequila Don Julio\n- 1 c. soupe de miel\n- Confit de piment (sirop sucre + piment, 15‚Äì20 min)",
  preparation: "1. Pr√©parer le confit de piment et laisser refroidir.\n2. Refroidir un verre √† martini.\n3. Shaker Baileys, tequila, miel sur glace.\n4. Verser et d√©corer avec le confit."
},
"Matcha Latte": {
  ingredients: "- 50 ml de Baileys Original\n- 2 c. caf√© de matcha\n- 20‚Äì40 ml d‚Äôeau chaude (‚âà80¬∞)\n- 150 ml de lait",
  preparation: "1. Fouetter le matcha dans l‚Äôeau.\n2. Mousser le lait.\n3. Assembler matcha, Baileys, lait. D√©corer."
}};

  // Rendu
  (function render(){
    const qs = new URLSearchParams(location.search);
    const wanted = qs.get('name') || '';

    const titleEl = document.getElementById('recipeTitle');
    const ingEl   = document.getElementById('ingredients');
    const prepEl  = document.getElementById('instructions');
    const imgEl   = document.getElementById('recipeImg');

    const key = Object.keys(RECIPES).find(k => norm(k) === norm(wanted)) || Object.keys(RECIPES)[0];
    const rec = RECIPES[key];

    if (titleEl) titleEl.textContent = key;

    // Ingr√©dients
    const items = String(rec.ingredients || '')
      .replace(/[\u2028\u2029]/g,'\n')
      .split(/\r?\n|‚Ä¢|;|,/).map(s=>s.replace(/^[-‚Äì‚Ä¢\s]+/,'').trim()).filter(Boolean);
    ingEl.innerHTML = items.length ? items.map(i=>`<li>${i}</li>`).join('') : '<li>‚Äî</li>';

    // Pr√©paration (toujours √©crire le DOM)
const rawPrep = String(rec.preparation || '')
.replace(/[\u2028\u2029]/g,'\n').replace(/\r\n?/g,'\n').trim();
let parts = rawPrep.split(/\n+/)
 .map(s=>s.replace(/^\s*\d+\.\s*/,'').trim())
    .filter(Boolean);
 if (parts.length <= 1) {
    parts = rawPrep.split(/(?<=[\.!?])\s+/)
      .map(s=>s.replace(/^\s*\d+\.\s*/,'').trim())
      .filter(Boolean);
  }
  prepEl.innerHTML = parts.length
    ? parts.map((t,i)=>`${i+1}. ${t}`).join('<br><br>')
    : '‚Äî';

    // Image (jpg/png/webp -> placeholder -> emoji)
const s = slug(key);
const candidates = [
  `recipes/${s}.jpg`,
  `recipes/${s}.png`,
  `recipes/${s}.webp`
];
    let i = 0;
    function showEmoji(){
      imgEl.style.display='none';
      const figure = imgEl.closest('.recipe-visual');
      let ph = document.getElementById('ph');
      if (!ph && figure){
        ph = document.createElement('div');
        ph.id='ph';
        ph.textContent='üçπ';
        ph.style.cssText='position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:84px;color:#9a918a';
        figure.style.position='relative';
        figure.appendChild(ph);
      } else if (ph){ ph.style.display='flex'; }
    }
    imgEl.style.display='block';
    imgEl.onerror = ()=>{ i++; if (i<candidates.length) imgEl.src=candidates[i]; else { imgEl.onerror=()=>showEmoji(); imgEl.src='img/placeholder-recipe.jpg'; } };
    imgEl.onload = ()=>{ const ph=document.getElementById('ph'); if (ph) ph.style.display='none'; };
    imgEl.src = candidates[0];
    imgEl.alt = key;

    try { window.scrollTo({top:0, behavior:'smooth'}); } catch(e) {}
  })();

  // Boutons
const QUIZ_URL = 'index.html';
  const backBtn  = document.getElementById('backBtn');
  const againBtn = document.getElementById('againBtn');

  // Retour : on renvoie toujours vers #quiz pour d√©clencher la restauration
  backBtn.onclick = () => { location.href = QUIZ_URL + '#quiz'; };

  // Recommencer : on efface l‚Äô√©tat m√©moris√© et on revient √† l‚Äôaccueil
  againBtn.onclick = () => {
    try { sessionStorage.removeItem('ldr_quiz_state'); } catch(_){}
    location.assign(QUIZ_URL);
  };
</script>
</body>
</html>